server.modules              = (
#                               "mod_rewrite",
#                               "mod_redirect",
#                               "mod_alias",
                                "mod_access",
#                               "mod_cml",
#                               "mod_trigger_b4_dl",
                                "mod_auth",
#                               "mod_status",
#                               "mod_setenv",
                               "mod_fastcgi",
#                               "mod_proxy",
#                               "mod_simple_vhost",
#                               "mod_evhost",
#                               "mod_userdir",
                               "mod_cgi",
#                               "mod_compress",
#                               "mod_ssi",
#                               "mod_usertrack",
#                               "mod_expire",
#                               "mod_secdownload",
#                               "mod_rrdtool",
                                "mod_accesslog" )

mimetype.assign             = (
  ".pdf"          =>      "application/pdf",
  ".sig"          =>      "application/pgp-signature",
  ".spl"          =>      "application/futuresplash",
  ".class"        =>      "application/octet-stream",
  ".ps"           =>      "application/postscript",
  ".torrent"      =>      "application/x-bittorrent",
  ".dvi"          =>      "application/x-dvi",
  ".gz"           =>      "application/x-gzip",
  ".pac"          =>      "application/x-ns-proxy-autoconfig",
  ".swf"          =>      "application/x-shockwave-flash",
  ".tar.gz"       =>      "application/x-tgz",
  ".tgz"          =>      "application/x-tgz",
  ".tar"          =>      "application/x-tar",
  ".zip"          =>      "application/zip",
  ".mp3"          =>      "audio/mpeg",
  ".m3u"          =>      "audio/x-mpegurl",
  ".wma"          =>      "audio/x-ms-wma",
  ".wax"          =>      "audio/x-ms-wax",
  ".ogg"          =>      "application/ogg",
  ".wav"          =>      "audio/x-wav",
  ".gif"          =>      "image/gif",
  ".jar"          =>      "application/x-java-archive",
  ".jpg"          =>      "image/jpeg",
  ".jpeg"         =>      "image/jpeg",
  ".png"          =>      "image/png",
  ".xbm"          =>      "image/x-xbitmap",
  ".xpm"          =>      "image/x-xpixmap",
  ".xwd"          =>      "image/x-xwindowdump",
  ".css"          =>      "text/css",
  ".html"         =>      "text/html",
  ".htm"          =>      "text/html",
  ".js"           =>      "text/javascript",
  ".asc"          =>      "text/plain",
  ".c"            =>      "text/plain",
  ".cpp"          =>      "text/plain",
  ".log"          =>      "text/plain",
  ".conf"         =>      "text/plain",
  ".text"         =>      "text/plain",
  ".txt"          =>      "text/plain",
  ".dtd"          =>      "text/xml",
  ".xml"          =>      "text/xml",
  ".mpeg"         =>      "video/mpeg",
  ".mpg"          =>      "video/mpeg",
  ".mov"          =>      "video/quicktime",
  ".qt"           =>      "video/quicktime",
  ".avi"          =>      "video/x-msvideo",
  ".asf"          =>      "video/x-ms-asf",
  ".asx"          =>      "video/x-ms-asf",
  ".wmv"          =>      "video/x-ms-wmv",
  ".bz2"          =>      "application/x-bzip",
  ".tbz"          =>      "application/x-bzip-compressed-tar",
  ".tar.bz2"      =>      "application/x-bzip-compressed-tar",
  # default mime type
  ""              =>      "application/octet-stream",
 )

accesslog.filename         = "/var/log/lighttpd/access.log"
server.errorlog            = "/var/log/lighttpd/error.log"

server.pid-file            = "/var/run/lighttpd/lighttpd.pid"
server.username            = "http"
server.groupname           = "http"

server.document-root       = "/www/www"
server.error-handler-404   = "/website.pl"

$HTTP["url"] =~ "^/config" {
  auth.debug = 2
  auth.backend = "plain"
  auth.backend.plain.userfile = "/etc/lighttpd/.lighttpdpassword_config"
  auth.require = (
  "/config" =>
    (
      "method" => "basic",
      "realm" => "Mixing console password protected area (config)",
      "require" => "valid-user"
    ),
  "/ajax/config" =>
    (
      "method" => "basic",
      "realm" => "Mixing console password protected area (ajax/config)",
      "require" => "valid-user"
    )
  )
}

$HTTP["url"] =~ "^/system" {
  auth.debug = 2
  auth.backend = "plain"
  auth.backend.plain.userfile = "/etc/lighttpd/.lighttpdpassword_system"
  auth.require = (
  "/system" =>
    (
      "method" => "basic",
      "realm" => "Mixing console password protected area (system)",
      "require" => "valid-user"
    ),
  "/ajax/system" =>
    (
      "method" => "basic",
      "realm" => "Mixing console password protected area (ajax/system)",
      "require" => "valid-user"
    )
  )
}

# plain old CGI (for development)
#cgi.assign = (".pl" => "")

# FastCGI (production)
fastcgi.server = (".pl" => ((
  "socket"            => "/tmp/axum-fastcgi.socket",
  "bin-path"          => "/www/www/website.pl",
  "max-procs"         => 1,
  "min-procs"         => 1,
  "check-local"       => "disable",
)))

